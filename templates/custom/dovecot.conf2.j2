#GENERATED WITH ANSIBLE DO NOT EDIT THIS FILE MANUALY

# SETTINGS
mail_location = mbox:~/Mail:INBOX=/var/mail/%n
protocols = imap lmtp
disable_plaintext_auth = no
ssl = no
mail_plugins = $mail_plugins quota

# NAMESPACES
namespace inbox {
  inbox = yes
  prefix = /
  mailbox Drafts {
    special_use = \Drafts
  }
  mailbox Junk {
    special_use = \Junk
  }
  mailbox Trash {
    special_use = \Trash
  }
  mailbox Sent {
    special_use = \Sent
  }
  mailbox "Sent Messages" {
    special_use = \Sent
  }
}

# USER AND PASSWORD DATABASES
userdb {
    driver = passwd



}
userdb {
    driver = sql
    args = /etc/dovecot/users-sql.conf 


}

# PASSWORD DATABASES
passdb {
    driver = pam



}
passdb {
    driver = sql
    args = /etc/dovecot/users-sql.conf 


}

service auth {
  unix_listener /var/spool/postfix/private/auth {
    mode = 0660
    group = postfix
    user = postfix
  }
}

# LMTP 
protocol lmtp {
  auth_username_format = %n
  postmaster_address = root@localhost
}

service lmtp {
  unix_listener /var/spool/postfix/private/lmtp-service {
    mode = 0660
    group = postfix
    user = postfix
  }
}

# QUOTA
plugin {
  quota_rule = *:storage=10M:messages=1000
  quota = dict:User quota::proxy::sqlquota
}

dict {
  sqlquota = mysql:/etc/dovecot/default-dict.conf
}


service dict {
  unix_listener dict {
    mode = 0666
    group = dovecot
    user = dovecot
  }
}

!include_try /etc/dovecot/dovecot.conf.local